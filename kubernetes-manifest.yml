apiVersion: apps/v1
kind: Deployment
metadata:
  name: koala-activity-handler-service
spec:
    replicas: 1
    strategy:
      type: RollingUpdate
      rollingUpdate:
        maxSurge: 1
        maxUnavailable: 1
    selector:
        matchLabels:
          app: koala-activity-handler-service
    template:
        metadata:
          labels:
            app: koala-activity-handler-service
        spec:
          restartPolicy: Always
          containers:
          - name: koala-activity-handler-service
            image: ykdbonteregistry.azurecr.io/koala-activity-handler-service:v1
            resources:
              requests:
                cpu: 100m
                memory: 128Mi
              limits:
                cpu: 1000m
                memory: 500Mi
            imagePullPolicy: Always
            ports:
              - containerPort: 5001
            env:
              - name: DOTNET_ENVIRONMENT
                value: "Production"
          imagePullSecrets:
          - name: ykdbonteregistry
